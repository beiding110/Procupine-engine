{"version":3,"sources":["webpack://Pro/webpack/universalModuleDefinition","webpack://Pro/webpack/bootstrap","webpack://Pro/./src/index.js","webpack://Pro/./src/lib/Device.js","webpack://Pro/./src/lib/Dragger.js","webpack://Pro/./src/lib/Json2Dom.js","webpack://Pro/./src/lib/Scene.js"],"names":["Device","require","Scene","Dragger","Pro","setting","xrot","yrot","zrot","eventer","init","console","log","prototype","$setting","that","scene","$scene","mode","switchModel","update","obj","x","y","z","type","driveCSS3D","handler","success","failed","destroy","e","switchObj","drag","xr_sum","yr_sum","orientation","window","DeviceOrientationEvent","error","deviceorientationHandler","event","revent","a_alpha","R_X","B_beta","R_Y","Y_gamma","R_z","R_Z","ondeviceorientation","module","exports","alpha","beta","gamma","abs","absolute","Math","cos","deg2radian","deg","radian","PI","xr","yr","last_x","last_y","eventType","document","initListener","eventArr","preventDefault","ev","touches","disX","clientX","disY","clientY","call","touch","mouse","forEach","item","Json2Dom","$el","querySelector","el","build","json","vdom","deepTree","$dom","appendChild","clear","innerHtml","node","tag","createElement","attr","Object","keys","key","setAttribute","children","length","leaf","J2D","initCSS3D","chartlet","Array","isArray","chartletCSS3D","FACE_HAFL_WIDTH","VIEW_RANGE","img_common_style","tree","style","class","arr","faces","querySelectorAll","index","transform"],"mappings":"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","file":"procupine.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"Pro\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Pro\"] = factory();\n\telse\n\t\troot[\"Pro\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/index.js\");\n","const Device = require('@/lib/Device.js')\r\nconst Scene = require('@/lib/Scene.js')\r\nconst Dragger = require('@/lib/Dragger.js')\r\n\r\nfunction Pro(setting) {\r\n    this.xrot = 0;\r\n    this.yrot = 0;\r\n    this.zrot = 0;\r\n\r\n    this.eventer = null;\r\n\r\n    this.init(setting);\r\n    console.log('Pro init');\r\n}\r\n\r\nPro.prototype = {\r\n    init(setting) {\r\n        this.$setting = setting;\r\n        var that = this;\r\n\r\n        if(setting.scene) {\r\n            this.$scene = new Scene(setting.scene);\r\n        }\r\n\r\n        if(this.$setting.mode === 'drag') {\r\n            this.switchModel('drag');\r\n        } else {\r\n            this.switchModel('orientation');\r\n        };\r\n    },\r\n    update(obj) {\r\n        this.xrot = obj.x;\r\n        this.yrot = obj.y;\r\n        this.zrot = obj.z;\r\n\r\n        if(this.$setting.scene) {\r\n            if(this.$setting.scene.type == 'css') {\r\n                this.$scene.driveCSS3D({\r\n                    x: obj.x,\r\n                    y: obj.y,\r\n                    z: obj.z\r\n                });\r\n            }\r\n        };\r\n\r\n        this.$setting.handler && this.$setting.handler({\r\n            x: this.xrot,\r\n            y: this.yrot,\r\n            z: this.zrot\r\n        });\r\n    },\r\n    switchModel(type, success, failed) {\r\n        var that = this;\r\n\r\n        try{\r\n            that.eventer.destroy();\r\n        } catch(e) {};\r\n\r\n        var switchObj = {\r\n            drag() {\r\n                that.eventer = new Dragger({\r\n                    handler: function() {\r\n                        that.update({\r\n                            x: +this.xr_sum,\r\n                            y: -this.yr_sum,\r\n                            z: 0\r\n                        })\r\n                    }\r\n                });\r\n                success && success();\r\n            },\r\n            orientation() {\r\n                if (!window.DeviceOrientationEvent) {\r\n                    console.error('您的浏览器不支持相关传感器的调用，已为您打开拖拽模式');\r\n                    that.switchModel('drag');\r\n                    failed && failed();\r\n                    return;\r\n                };\r\n\r\n                function deviceorientationHandler(event) {\r\n                    var revent = new Device(event);\r\n\r\n                    var a_alpha = revent.R_X,\r\n                    B_beta = revent.R_Y,\r\n                    Y_gamma = revent.R_z;\r\n\r\n                    that.update({\r\n                        x: revent.R_X,\r\n                        y: revent.R_Y,\r\n                        z: revent.R_Z\r\n                    });\r\n\r\n                    revent = null;\r\n                };\r\n\r\n                window.ondeviceorientation = function() {\r\n                    var revent = new Device(event);\r\n\r\n                    var a_alpha = revent.R_X,\r\n                    B_beta = revent.R_Y,\r\n                    Y_gamma = revent.R_z;\r\n\r\n                    that.update({\r\n                        x: revent.R_X,\r\n                        y: revent.R_Y,\r\n                        z: revent.R_Z\r\n                    });\r\n\r\n                    revent = null;\r\n                };\r\n\r\n                that.eventer = {\r\n                    destroy() {\r\n                        window.ondeviceorientation = null;\r\n                    }\r\n                };\r\n\r\n                success && success();\r\n            }\r\n        };\r\n\r\n        switchObj[type]();\r\n    }\r\n};\r\n\r\nmodule.exports = Pro\r\n","function Device(e) {\r\n    var a_alpha = event.alpha,\r\n        B_beta = event.beta,\r\n        Y_gamma = event.gamma,\r\n        abs = event.absolute;\r\n\r\n    var R_Z = -(Y_gamma * Math.cos( this.deg2radian(B_beta) )),\r\n        R_X = (B_beta - 90) * Math.cos( this.deg2radian(Y_gamma) ),\r\n        R_Y = -(a_alpha + Y_gamma);\r\n\r\n    return {\r\n        R_Z: R_Z,\r\n        R_X: R_X,\r\n        R_Y: R_Y\r\n    }\r\n}\r\n\r\nDevice.prototype = {\r\n    deg2radian(deg) {\r\n        const radian = Math.PI / 180;\r\n        return deg * radian;\r\n    }\r\n};\r\n\r\nmodule.exports = Device\r\n","function Dragger(obj) {\r\n    this.init(obj);\r\n}\r\n\r\nDragger.prototype = {\r\n    init(obj) {\r\n        this.xr = 0;\r\n        this.yr = 0;\r\n        this.xr_sum = 0;\r\n        this.yr_sum = 0;\r\n        this.$setting = obj;\r\n\r\n        this.last_x = 0;\r\n        this.last_y = 0;\r\n\r\n        this.eventType = '';\r\n\r\n        var that = this;\r\n\r\n        if('ontouchstart' in document) {\r\n            this.initListener('touch');\r\n        } else {\r\n            this.initListener('mouse');\r\n        }\r\n    },\r\n    initListener(eventType) {\r\n        this.eventType = eventType;\r\n\r\n        var eventArr = ['ontouchstart', 'ontouchmove', 'ontouchend'],\r\n            that = this;\r\n        if(eventType === 'mouse') {\r\n            eventArr = ['onmousedown', 'onmousemove', 'onmouseup'];\r\n        };\r\n\r\n        document[eventArr[0]] = function(event) {\r\n            event.preventDefault();\r\n            var ev = eventType === 'touch' ? event.touches[0] : event;\r\n\r\n            var disX = ev.clientX;\r\n            var disY = ev.clientY;\r\n\r\n            document[eventArr[1]] = function(event) {\r\n                event.preventDefault();\r\n                var ev = eventType === 'touch' ? event.touches[0] : event;\r\n\r\n                var x = ev.clientY - disY,\r\n                    y = ev.clientX - disX;\r\n\r\n                that.xr = x / 2;\r\n                that.yr = y / 2;\r\n\r\n                that.xr_sum = that.last_x + that.xr;\r\n                that.yr_sum = that.last_y + that.yr;\r\n                that.$setting.handler && that.$setting.handler.call(that);\r\n            };\r\n            document[eventArr[2]] = function() {\r\n                document[eventArr[1]] = null;\r\n                document[eventArr[2]] = null;\r\n\r\n                that.last_x = that.xr_sum;\r\n                that.last_y = that.yr_sum;\r\n\r\n                console.log(that.last_x, that.last_y)\r\n            };\r\n            return false;\r\n        };\r\n    },\r\n    destroy() {\r\n        var switchObj = {\r\n            touch: ['ontouchstart', 'ontouchmove', 'ontouchend'],\r\n            mouse: ['onmousedown', 'onmousemove', 'onmouseup']\r\n        };\r\n\r\n        switchObj[this.eventType].forEach(item => {\r\n            document[item] = null;\r\n        });\r\n    }\r\n};\r\n\r\nmodule.exports = Dragger;\r\n","function Json2Dom(obj) {\r\n    this.init(obj)\r\n}\r\n\r\nJson2Dom.prototype = {\r\n    init(obj) {\r\n        this.$el = document.querySelector(obj.el)\r\n    },\r\n    build(json) {\r\n        // json = Array.isArray(json) ? json : [json];\r\n\r\n        var vdom = this.deepTree(json);\r\n\r\n        this.$dom = vdom;\r\n        this.$el.appendChild(vdom);\r\n    },\r\n    clear() {\r\n        this.$el.innerHtml = '';\r\n    },\r\n    deepTree(node) {\r\n        var that = this;\r\n        // var vc = document.createDocumentFragment();\r\n        //\r\n        // node.forEach(function(leaf) {\r\n        //     var tag = document.createElement(leaf.tag);\r\n        //     if(leaf.attr) {\r\n        //         Object.keys(leaf.attr).forEach(function(key) {\r\n        //             tag.setAttribute(key, leaf.attr[key]);\r\n        //         });\r\n        //     };\r\n        //     vc.appendChild(tag);\r\n        //\r\n        //     if(leaf.children && leaf.children.length > 0) {\r\n        //         tag.appendChild(that.deepTree(leaf.children));\r\n        //     }\r\n        // });\r\n\r\n        // return vc;\r\n\r\n\r\n        var tag = document.createElement(node.tag);\r\n        if(node.attr) {\r\n            Object.keys(node.attr).forEach(function(key) {\r\n                tag.setAttribute(key, node.attr[key]);\r\n            });\r\n        };\r\n\r\n        if(node.children && node.children.length > 0) {\r\n            node.children.forEach(function(leaf) {\r\n                tag.appendChild(that.deepTree(leaf))\r\n            })\r\n        }\r\n\r\n        return tag;\r\n    }\r\n};\r\n\r\nmodule.exports = Json2Dom\r\n","const Json2Dom = require('@/lib/Json2Dom.js')\r\n\r\nfunction Scene(obj) {\r\n    this.init(obj)\r\n}\r\n\r\nScene.prototype = {\r\n    init(obj) {\r\n        this.$setting = obj;\r\n\r\n        this.J2D = new Json2Dom({\r\n            el: 'body'\r\n        });\r\n\r\n        if(obj.type && obj.type==='canvas') {\r\n\r\n        } else {\r\n            this.initCSS3D();\r\n        };\r\n        this.$dom = this.J2D.$dom;\r\n\r\n        if(this.$setting.chartlet && Array.isArray(this.$setting.chartlet) && this.$setting.chartlet.length>0) {\r\n            if(obj.type && obj.type==='canvas') {\r\n\r\n            } else {\r\n                this.chartletCSS3D(this.$setting.chartlet);\r\n            };\r\n        }\r\n    },\r\n    initCSS3D() {\r\n        var FACE_HAFL_WIDTH = 512,\r\n            VIEW_RANGE = '398.135px',\r\n            img_common_style = 'width:' + ((FACE_HAFL_WIDTH+1) * 2) + 'px; height:' + ((FACE_HAFL_WIDTH+1) * 2) + 'px; position:absolute;'\r\n\r\n        var tree = {\r\n            tag: 'div',\r\n            attr: {\r\n                style: 'position:fixed; left:0; right:0; top:0; bottom:0; overflow:hidden;',\r\n                class: 'css3__scene--con'\r\n            },\r\n            children: [\r\n                {\r\n                    tag: 'div',\r\n                    attr: {\r\n                        style: 'transform-style:preserve-3d; perspective:' + VIEW_RANGE + '; width:100%; height:100%;',\r\n                        class: 'css3__scene--stage'\r\n                    },\r\n                    children: [\r\n                        {\r\n                            tag: 'div',\r\n                            attr: {\r\n                                style: 'position:relative; left:0; right:0; top:0; bottom:0; transform-style:preserve-3d; width:100%; height:100%; transform:translate3d(50%,50%,' + VIEW_RANGE + ')',\r\n                                class: 'css3__scene--box'\r\n                            },\r\n                            children: [\r\n                                {\r\n                                    tag: 'img',\r\n                                    attr: {\r\n                                        style: img_common_style + 'transform:translate3d(-50%,-50%,0) rotateY(-90deg) translateZ(-' + FACE_HAFL_WIDTH + 'px); background-color:red;',\r\n                                        class: 'css3__scene--faces'\r\n                                    }\r\n                                },{\r\n                                    tag: 'img',\r\n                                    attr: {\r\n                                        style: img_common_style + 'transform:translate3d(-50%,-50%,0) rotateY(90deg) translateZ(-' + FACE_HAFL_WIDTH + 'px); background-color:orange;',\r\n                                        class: 'css3__scene--faces'\r\n                                    }\r\n                                },{\r\n                                    tag: 'img',\r\n                                    attr: {\r\n                                        style: img_common_style + 'transform:translate3d(-50%,-50%,0) rotateX(-90deg) translateZ(-' + FACE_HAFL_WIDTH + 'px); background-color:yellow;',\r\n                                        class: 'css3__scene--faces'\r\n                                    }\r\n                                },{\r\n                                    tag: 'img',\r\n                                    attr: {\r\n                                        style: img_common_style + 'transform:translate3d(-50%,-50%,0) rotateX(90deg) translateZ(-' + FACE_HAFL_WIDTH + 'px); background-color:green;',\r\n                                        class: 'css3__scene--faces'\r\n                                    }\r\n                                },{\r\n                                    tag: 'img',\r\n                                    attr: {\r\n                                        style: img_common_style + 'transform:translate3d(-50%,-50%,0) rotateY(0deg) translateZ(-' + FACE_HAFL_WIDTH + 'px); background-color:blue;',\r\n                                        class: 'css3__scene--faces'\r\n                                    }\r\n                                },{\r\n                                    tag: 'img',\r\n                                    attr: {\r\n                                        style: img_common_style + 'transform:translate3d(-50%,-50%,0) rotateY(180deg) translateZ(-' + FACE_HAFL_WIDTH + 'px); background-color:purple;',\r\n                                        class: 'css3__scene--faces'\r\n                                    }\r\n                                }\r\n                            ]\r\n                        }\r\n                    ]\r\n                }\r\n            ]\r\n        };\r\n\r\n        this.J2D.build(tree);\r\n    },\r\n    chartletCSS3D(arr) {\r\n        var faces = this.$dom.querySelectorAll('.css3__scene--faces');\r\n        faces.forEach(function(node, index) {\r\n            node.setAttribute('src', arr[index]);\r\n        })\r\n    },\r\n    driveCSS3D: function(obj) {\r\n        if(this.$setting.type !== 'css') {\r\n            console.error('Your Scene is not css3d model');\r\n            return;\r\n        };\r\n\r\n        var R_X = obj.x,\r\n            R_Y = obj.y,\r\n            R_Z = obj.z;\r\n\r\n        document.querySelector('.css3__scene--box').style.transform = 'translate3d(0,0,398.135px) rotateZ(' + R_Z + 'deg) rotateX(' + R_X + 'deg) rotateY(' + R_Y + 'deg) translate3d(50%,50%,0)';\r\n    }\r\n};\r\n\r\nmodule.exports = Scene;\r\n"],"sourceRoot":""}